{"ast":null,"code":"import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import\"../css/ChickDetail.css\";// axios useEffect 활용해서 데이터 불러오기\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChickDetail=()=>{const navigate=useNavigate();//페이지를 이동하기 위한 navigate 함수\n// navigate = 기능작성에서 이동할 때 주로 사용   const 기능작성 () => {} / useEffect 안에 작성\n// 이동하는 동작이 소비자들 눈에 직접적으로 보이지 않음 개발자가 암묵적으로 이동\n// Link     = 태그에서 직접적으로 주소 이동을 작성해줄 때 사용\n// {} = 특정값을 받아오는 것 [] = 변수명을 설정하는 것\nconst{id}=useParams();const[chicken,setChicken]=useState(null);// 수정된 데이터를 저장하는 공간 초기에는 수정한 내용이 없기 때문에 '' 빈 공간으로 설정\nconst[editData,setEditData]=useState({chickenName:\"\",description:\"\",price:\"\"});// 수정하기 버튼을 눌렀는지 안눌렀는지 체크 boolean\nconst[isEditing,setIsEditing]=useState(false);useEffect(()=>{axios.get(`/api/chicken/${id}`).then(response=>{setChicken(response.data);setEditData({chickenName:response.data.chickenName,description:response.data.description,price:response.data.price//price 데이터 불러와서 각 변수명에 넣어주는 코드 작성\n});}).catch(e=>alert(\"불러오는데 문제가 발생했습니다.\"));},[id]);// 만약에 치킨 데이터가 없으면 로딩중\nif(!chicken){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529\\uC911 ...\"});}const handle수정한내용저장=()=>{// axios 이용해서 주소 불러오기\naxios.put(`/api/chicken/${id}`,editData).then(response=>{setChicken(response.data);// 기존에 DB에 저장된 내용 가져오기\nsetIsEditing(false);}).catch(error=>{console.error(\"수정하는데 문제가 발생했습니다.\",error);});};const handle수정하기=()=>{setIsEditing(true);};const handle돌아가기=()=>{setIsEditing(false);};const handle삭제하기=()=>{axios.delete(`/api/chicken/${id}`).then(()=>{alert(\"삭제되었습니다.\");navigate(\"/\");//삭제하고 메인으로 이동하기\n}).catch(errer=>{console.log(\"삭제하는데 문제가 발생했습니다.\");});};return/*#__PURE__*/_jsx(\"div\",{className:\"chicken-detail-container\",children:isEditing?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"chickenName\",value:editData.chickenName,onChange:e=>setEditData({...editData,chickenName:e.target.value})}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:editData.description,onChange:e=>setEditData({...editData,description:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:editData.price,onChange:e=>setEditData({...editData,price:e.target.value})}),/*#__PURE__*/_jsx(\"button\",{onClick:handle수정한내용저장,children:\"\\uC218\\uC815\\uC644\\uB8CC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handle돌아가기,children:\"\\uB3CC\\uC544\\uAC00\\uAE30\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:chicken.chickenName}),/*#__PURE__*/_jsx(\"p\",{children:chicken.description}),/*#__PURE__*/_jsxs(\"p\",{children:[chicken.price,\"\\uC6D0\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handle수정하기,children:\"\\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handle삭제하기,children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})]})});};export default ChickDetail;","map":{"version":3,"names":["axios","React","useState","useEffect","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","ChickDetail","navigate","id","chicken","setChicken","editData","setEditData","chickenName","description","price","isEditing","setIsEditing","get","then","response","data","catch","e","alert","children","handle수정한내용저장","put","error","console","handle수정하기","handle돌아가기","handle삭제하기","delete","errer","log","className","type","name","value","onChange","target","onClick"],"sources":["C:/Users/Lenovo/Desktop/jpa-chicken-master/jpa-chicken-master/JPA_chicken/src/main/frontend/src/component/ChickDetail.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport \"../css/ChickDetail.css\";\n// axios useEffect 활용해서 데이터 불러오기\n\nconst ChickDetail = () => {\n  const navigate = useNavigate(); //페이지를 이동하기 위한 navigate 함수\n  // navigate = 기능작성에서 이동할 때 주로 사용   const 기능작성 () => {} / useEffect 안에 작성\n  // 이동하는 동작이 소비자들 눈에 직접적으로 보이지 않음 개발자가 암묵적으로 이동\n  // Link     = 태그에서 직접적으로 주소 이동을 작성해줄 때 사용\n\n  // {} = 특정값을 받아오는 것 [] = 변수명을 설정하는 것\n  const { id } = useParams();\n  const [chicken, setChicken] = useState(null);\n  // 수정된 데이터를 저장하는 공간 초기에는 수정한 내용이 없기 때문에 '' 빈 공간으로 설정\n  const [editData, setEditData] = useState({\n    chickenName: \"\",\n    description: \"\",\n    price: \"\",\n  });\n  // 수정하기 버튼을 눌렀는지 안눌렀는지 체크 boolean\n  const [isEditing, setIsEditing] = useState(false);\n\n  useEffect(() => {\n    axios\n      .get(`/api/chicken/${id}`)\n      .then((response) => {\n        setChicken(response.data);\n        setEditData({\n          chickenName: response.data.chickenName,\n          description: response.data.description,\n          price: response.data.price,\n          //price 데이터 불러와서 각 변수명에 넣어주는 코드 작성\n        });\n      })\n      .catch((e) => alert(\"불러오는데 문제가 발생했습니다.\"));\n  }, [id]);\n\n  // 만약에 치킨 데이터가 없으면 로딩중\n  if (!chicken) {\n    return <div>로딩중 ...</div>;\n  }\n\n  const handle수정한내용저장 = () => {\n    // axios 이용해서 주소 불러오기\n    axios\n      .put(`/api/chicken/${id}`, editData)\n      .then((response) => {\n        setChicken(response.data); // 기존에 DB에 저장된 내용 가져오기\n        setIsEditing(false);\n      })\n      .catch((error) => {\n        console.error(\"수정하는데 문제가 발생했습니다.\", error);\n      });\n  };\n\n  const handle수정하기 = () => {\n    setIsEditing(true);\n  };\n\n  const handle돌아가기 = () => {\n    setIsEditing(false);\n  };\n\n  const handle삭제하기 = () => {\n    axios\n      .delete(`/api/chicken/${id}`)\n      .then(() => {\n        alert(\"삭제되었습니다.\");\n        navigate(\"/\"); //삭제하고 메인으로 이동하기\n      })\n      .catch((errer) => {\n        console.log(\"삭제하는데 문제가 발생했습니다.\");\n      });\n  };\n  return (\n    <div className=\"chicken-detail-container\">\n      {/*   수정하기버튼을누르면 ? (수정하는 기능 나오기) : (안누르면 작성된 내용 보여주기) */}\n      {isEditing ? (\n        <div>\n          <input\n            type=\"text\"\n            name=\"chickenName\"\n            value={editData.chickenName}\n            onChange={(e) =>\n              setEditData({ ...editData, chickenName: e.target.value })\n            }\n          />\n          <textarea\n            name=\"description\"\n            value={editData.description}\n            onChange={(e) =>\n              setEditData({ ...editData, description: e.target.value })\n            }\n          />\n          <input\n            type=\"number\"\n            name=\"price\"\n            value={editData.price}\n            onChange={(e) =>\n              setEditData({ ...editData, price: e.target.value })\n            }\n          />\n          <button onClick={handle수정한내용저장}>수정완료</button>\n          <button onClick={handle돌아가기}>돌아가기</button>\n        </div>\n      ) : (\n        <div>\n          <h1>{chicken.chickenName}</h1>\n          <p>{chicken.description}</p>\n          <p>{chicken.price}원</p>\n          <button onClick={handle수정하기}>수정하기</button>\n          <button onClick={handle삭제하기}>삭제하기</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChickDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}